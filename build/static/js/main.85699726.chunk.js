(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},154:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(23),l=a.n(i),s=(a(90),a(91),a(10)),o=a(11),c=a(14),u=a(12),d=a(13),h=a(6),p=a.n(h),m=a(17),f=a(8),b=a(83),v=a.n(b),E=a(18),g=a.n(E),k=a(26),y=a.n(k),O=a(24),w=a.n(O),j=a(19),F=a.n(j),S=(a(53),a(82)),C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={formValidated:!1,showAuthorizingText:!1,showInvalidText:!1},a.handleSubmit=a.handleSubmit.bind(Object(f.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleSubmit",value:function(){var e=Object(m.a)(p.a.mark(function e(t){var a,n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==(a=t.currentTarget).checkValidity()){e.next=6;break}t.preventDefault(),t.stopPropagation(),e.next=22;break;case 6:return t.preventDefault(),this.setState({showAuthorizingText:!0}),e.next=10,S.validateEmail({email:btoa(a.shareemail.value)});case 10:if(n=e.sent,!n.data){e.next=21;break}return this.setState({formValidated:!0,showAuthorizingText:!1,showInvalidText:!1}),this.props.handleClose(),e.next=17,S.getUIDFromEmail({email:btoa(a.shareemail.value)});case 17:r=e.sent,this.props.handleAddOthers(r.data),e.next=22;break;case 21:this.setState({showInvalidText:!0,showAuthorizingText:!1});case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;return e=this.state.showAuthorizingText?r.a.createElement(y.a,{variant:"primary"},"Authorizing...."):this.state.showInvalidText?r.a.createElement(y.a,{variant:"danger"},"Invalid email!"):r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement(w.a,{show:this.props.show,onHide:this.props.handleClose},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,'Share "'+this.props.filename+'"')),r.a.createElement(w.a.Body,null,r.a.createElement(F.a,{noValidate:!0,validated:this.state.formValidated,onSubmit:function(e){return t.handleSubmit(e)}},r.a.createElement(F.a.Group,null,r.a.createElement(F.a.Label,null,"Email Address"),r.a.createElement(F.a.Control,{required:!0,placeholder:"Enter Email Address",name:"shareemail"}),r.a.createElement(F.a.Text,{className:"text-muted"},"Enter the email address of the user you want to share this project with.")),e,r.a.createElement("div",{id:"modal-submit-bar"},r.a.createElement("div",{className:"modal-submit-bar-btn"},r.a.createElement(g.a,{variant:"secondary",onClick:this.props.handleClose},"Cancel")),r.a.createElement("div",{className:"modal-submit-bar-btn"},r.a.createElement(g.a,{variant:"primary",type:"submit"},"Submit")))))))}}]),t}(r.a.Component),x=a(16),M=(a(141),new(a(142))),A="UPDATE_OLD_EXPR_STRING",T="UPDATE_NEW_EXPR_STRING",N="UPDATE_UID",U="UPDATE_DISPLAY_TREE_CHECK_MARKS",I="UPDATE_MY_FILES",D="UPDATE_OTHER_FILES";function P(e){return{type:N,payload:e}}function L(){return{type:U}}function B(e){return{type:I,payload:e}}function _(e){return{type:D,payload:e}}var z=a(35),R=a(82),G=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).throttledSave=v.a.throttle(function(){a.props.updateNewExprString({exprString:a.getExprListString(a.calculator.getState())})},1e3,{leading:!1}),a.state={filename:void 0,showShareFileModal:!1,ownerUid:""},a.handleCommit=a.handleCommit.bind(Object(f.a)(a)),a.handleImport=a.handleImport.bind(Object(f.a)(a)),a.handleOtherFileImport=a.handleOtherFileImport.bind(Object(f.a)(a)),a.handleAddOthers=a.handleAddOthers.bind(Object(f.a)(a)),a.handleShowShareFileModal=a.handleShowShareFileModal.bind(Object(f.a)(a)),a.handleCloseShareFileModal=a.handleCloseShareFileModal.bind(Object(f.a)(a)),a.imageUploadCallback=a.imageUploadCallback.bind(Object(f.a)(a)),M.on("file-open-mine",function(e){a.setState({filename:e},function(){a.setState({ownerUid:""},function(){a.handleImport()})})}),M.on("file-open-other",function(e){a.setState({filename:e.name},function(){a.setState({ownerUid:e.owner},function(){a.handleOtherFileImport()})})}),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleAddOthers",value:function(){var e=Object(m.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"==typeof this.state.filename){e.next=4;break}return e.next=3,z.linkUserToMyProject(this.props.uid,this.state.filename,t);case 3:R.linkUserToProject({ownerUid:t,projectName:this.state.filename});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleShowShareFileModal",value:function(){this.setState({showShareFileModal:!0})}},{key:"handleCloseShareFileModal",value:function(){this.setState({showShareFileModal:!1})}},{key:"getState",value:function(){return this.calculator.getState()}},{key:"getExprList",value:function(e){return e.expressions.list}},{key:"getExprListString",value:function(e){for(var t="",a=this.getExprList(e),n=0;n<a.length;n++)t+=a[n].latex+"\n";return t}},{key:"imageUploadCallback",value:function(e,t){var a=this;window.Desmos.imageFileToDataURL(e,function(e,n){e?t(e):R.uploadImage({dataURL:n,uid:a.props.uid,fileName:a.state.filename}).then(function(e){e.data?t(null,e.data.url):t(!0)})})}},{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("calculator");this.calculator=window.Desmos.GraphingCalculator(t,{imageUploadCallback:this.imageUploadCallback}),this.calculator.observeEvent("change",function(){e.throttledSave()})}},{key:"handleCommit",value:function(){if(this.state.filename){if(""!==this.state.ownerUid)return this.handleOtherFileCommit(),void this.props.updateOldExprString({exprString:this.getExprListString(this.getState())});z.updateFile(this.props.uid,this.state.filename,this.getState()),this.props.updateOldExprString({exprString:this.getExprListString(this.getState())})}}},{key:"handleOtherFileCommit",value:function(){R.updateFileFromAnotherUser({ownerUid:this.state.ownerUid,fileName:this.state.filename,content:this.getState()})}},{key:"handleImport",value:function(){var e=this;""===this.state.ownerUid?void 0!==this.props.uid?this.state.filename&&z.importFile(this.props.uid,this.state.filename).then(function(t){e.calculator.setState(t),e.props.updateOldExprString({exprString:e.getExprListString(e.getState())})}):alert("Sign-in first!"):this.handleOtherFileImport()}},{key:"handleOtherFileImport",value:function(){var e=Object(m.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.props.uid){e.next=3;break}return alert("Sign-in first!"),e.abrupt("return");case 3:if(this.state.filename){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,R.importFileFromAnotherUser({ownerUid:this.state.ownerUid,fileName:this.state.filename});case 7:t=e.sent,this.calculator.setState(t.data),this.props.updateOldExprString({exprString:this.getExprListString(this.getState())});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return e=this.state.filename?r.a.createElement(y.a,{variant:"success"},"Current File: ",r.a.createElement("strong",null,this.state.filename)):r.a.createElement(y.a,{variant:"danger"},r.a.createElement("strong",null,"No File Selected")),r.a.createElement("div",{id:"calc-grid"},r.a.createElement("div",{id:"current-file-shower"},e),r.a.createElement("div",{id:"calculator"}),r.a.createElement(C,{show:this.state.showShareFileModal,handleClose:this.handleCloseShareFileModal,handleAddOthers:this.handleAddOthers,filename:this.state.filename}),r.a.createElement("div",{id:"calc-buttons"},this.state.filename&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(g.a,{variant:"success",className:"calc-btn",onClick:this.handleCommit},"Commit Changes"),r.a.createElement(g.a,{variant:"primary",className:"calc-btn",onClick:this.handleImport},"Import Again")),r.a.createElement("div",{id:"add-ppl-btn-container"},r.a.createElement(g.a,{variant:"info",className:"calc-btn",onClick:this.handleShowShareFileModal},"Allow Others to Edit")))))}}]),t}(r.a.Component),V=Object(x.b)(function(e){return{uid:e.uid}},function(e){return{updateOldExprString:function(t){return e({type:A,payload:t})},updateNewExprString:function(t){return e({type:T,payload:t})}}})(G),H=(a(147),a(32)),W=a(47),X=a.n(W),K=(a(148),a(50)),J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={checked:!1},a.handleClick=a.handleClick.bind(Object(f.a)(a)),a.handleCheckClick=a.handleCheckClick.bind(Object(f.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleClick",value:function(){this.props.displayTreeCheckMarks||(this.props.isMyFiles?M.emit("file-open-mine",this.props.name):M.emit("file-open-other",{name:this.props.name,owner:this.props.ownerUid}))}},{key:"handleCheckClick",value:function(){this.setState({checked:!this.state.checked})}},{key:"render",value:function(){var e;return e=this.props.displayTreeCheckMarks?this.state.checked?r.a.createElement(K.a,null):r.a.createElement(K.b,null):r.a.createElement(H.c,null),r.a.createElement("div",null,r.a.createElement("div",{className:"file-node",onClick:this.handleClick},r.a.createElement("div",{className:"project-icon-container",onClick:this.handleCheckClick},e),this.props.name))}}]),t}(r.a.Component),Y=Object(x.b)(function(e){return{displayTreeCheckMarks:e.displayTreeCheckMarks}})(J),q=a(78),$=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={open:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"displayCaret",value:function(){return this.state.open?r.a.createElement("div",{className:"caret-icon-container"},r.a.createElement(H.a,null)):r.a.createElement("div",{className:"caret-icon-container"},r.a.createElement(H.b,null))}},{key:"render",value:function(){var e,t=this;if(this.props.isMyFiles)if(this.props.myFiles.length){e=[];for(var a=0;a<this.props.myFiles.length;a++)e.push(r.a.createElement(Y,{key:q(),name:this.props.myFiles[a],isMyFiles:!0,ownerUid:""}))}else e=r.a.createElement(y.a,{variant:"primary"},"No files!");else e=[],this.props.otherFiles.length?Object.keys(this.props.otherFiles).forEach(function(a){Object.keys(t.props.otherFiles[a]).forEach(function(t){e.push(r.a.createElement(Y,{key:q(),name:t,isMyFiles:!1,ownerUid:a}))})}):e=r.a.createElement(y.a,{variant:"primary"},"No files!");return r.a.createElement("div",null,r.a.createElement("div",{className:"folder-node",onClick:function(){return t.setState({open:!t.state.open})},"aria-controls":"collapse-div","aria-expanded":this.state.open},this.displayCaret(),this.props.name),r.a.createElement(X.a,{in:this.state.open},r.a.createElement("div",{id:"collapse-div",className:"indented"},e)))}}]),t}(r.a.Component),Q=Object(x.b)(function(e){return{myFiles:e.myFiles,otherFiles:e.otherFiles}})($),Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={formValidated:!1},a.handleSubmit=a.handleSubmit.bind(Object(f.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleSubmit",value:function(e){var t=e.currentTarget;!1===t.checkValidity()?(e.preventDefault(),e.stopPropagation()):(e.preventDefault(),this.props.handleAddFile(t.projectName.value)),this.setState({validated:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(w.a,{show:this.props.show,onHide:this.props.handleClose},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,"Add File")),r.a.createElement(w.a.Body,null,r.a.createElement(F.a,{noValidate:!0,validated:this.state.formValidated,onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("h2",null,"If you are not the owner:"),r.a.createElement(F.a.Group,null,r.a.createElement(F.a.Label,null,"Owner Email and Project Name"),r.a.createElement(F.a.Control,{placeholder:"Enter Owner Email",name:"otherowneremail"}),r.a.createElement(F.a.Control,{placeholder:"Enter Project Name",name:"otherownerprojectname"}),r.a.createElement(F.a.Text,{className:"text-muted"},"Enter this information if you are not the owner.")),r.a.createElement("h2",null,"If you are the owner:"),r.a.createElement(F.a.Group,null,r.a.createElement(F.a.Label,null,"Project Name"),r.a.createElement(F.a.Control,{placeholder:"Enter Project Name",name:"projectName"}),r.a.createElement(F.a.Text,{className:"text-muted"},"Enter the project name.")),r.a.createElement("div",{id:"modal-submit-bar"},r.a.createElement("div",{className:"modal-submit-bar-btn"},r.a.createElement(g.a,{variant:"secondary",onClick:this.props.handleClose},"Cancel")),r.a.createElement("div",{className:"modal-submit-bar-btn"},r.a.createElement(g.a,{variant:"primary",type:"submit",onClick:this.props.handleClose},"Submit")))))))}}]),t}(r.a.Component),ee=(a(151),a(35)),te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={showAddFileModal:!1},a.handleAddFile=a.handleAddFile.bind(Object(f.a)(a)),a.handleShowAddFileModal=a.handleShowAddFileModal.bind(Object(f.a)(a)),a.handleCloseAddFileModal=a.handleCloseAddFileModal.bind(Object(f.a)(a)),a.handleEditButton=a.handleEditButton.bind(Object(f.a)(a)),a.handleDeleteButton=a.handleDeleteButton.bind(Object(f.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleDeleteButton",value:function(){}},{key:"handleShowAddFileModal",value:function(){this.setState({showAddFileModal:!0})}},{key:"handleCloseAddFileModal",value:function(){this.setState({showAddFileModal:!1})}},{key:"handleAddFile",value:function(){var e=Object(m.a)(p.a.mark(function e(t){var a=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.addFile(this.props.uid,t).then(function(){var e=Object(m.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return-1===t&&alert("File already exists!"),e.next=3,a.updateMyFiles();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateMyFiles",value:function(){var e=Object(m.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.getFileNames(this.props.uid);case 2:t=e.sent,this.props.updateMyFiles({list:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateOtherFiles",value:function(){var e=Object(m.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.getOtherFileNames(this.props.uid);case 2:t=e.sent,this.props.updateOtherFiles({list:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleEditButton",value:function(){var e=Object(m.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.updateDisplayTreeCheckMarks(),e.next=3,this.updateFiles();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t;return e=this.props.showDoneButton?r.a.createElement(g.a,{variant:"outline-success",onClick:this.handleEditButton},"Done"):r.a.createElement(g.a,{variant:"outline-danger",id:"tree-edit",onClick:this.handleEditButton},"Edit"),t=this.props.showDoneButton?r.a.createElement(g.a,{variant:"danger",onClick:this.handleDeleteButton},"Delete"):r.a.createElement(g.a,{variant:"success",id:"tree-add",onClick:this.handleShowAddFileModal},"Add"),r.a.createElement("div",{id:"tree-container"},r.a.createElement("div",{id:"tree-title"},r.a.createElement("h3",null,"Projects")),r.a.createElement(Z,{show:this.state.showAddFileModal,handleClose:this.handleCloseAddFileModal,handleAddFile:this.handleAddFile}),r.a.createElement("div",{id:"tree-toolbar"},t,e),r.a.createElement("div",{id:"tree-list"},r.a.createElement(Q,{name:"Owner: Me",isMyFiles:!0,displayCheckMarks:this.state.displayCheckMarks}),r.a.createElement(Q,{name:"Owner: Others",isMyFiles:!1,displayCheckMarks:this.state.displayCheckMarks})))}}]),t}(r.a.Component),ae=Object(x.b)(function(e){return{uid:e.uid,showDoneButton:e.displayTreeCheckMarks}},function(e){return{updateDisplayTreeCheckMarks:function(){return e(L())},updateMyFiles:function(t){return e(B(t))},updateOtherFiles:function(t){return e(_(t))}}})(te),ne=(a(152),a(153)),re=a(78),ie=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"createColoredText",value:function(e,t){var a=[];return this.getDiff(e,t).forEach(function(e){var t=e.added?"added":e.removed?"removed":"same";e.value.split("\n").forEach(function(e){"undefined"!==e&&""!==e&&a.push(r.a.createElement("div",{key:re(),className:"changes-item "+t},e))})}),a}},{key:"getDiff",value:function(e,t){return ne.diffLines(e,t)}},{key:"render",value:function(){return r.a.createElement("div",{id:"changes-container"},r.a.createElement("div",{id:"changes-title"},"Changes Made"),r.a.createElement("div",{id:"changes-list"},this.createColoredText(this.props.oldText,this.props.newText)))}}]),t}(r.a.Component),le=Object(x.b)(function(e){return{oldText:e.oldExprString,newText:e.newExprString}})(ie),se=a(40),oe=a.n(se),ce=a(51),ue=a.n(ce),de=(a(154),a(79)),he=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSignOut=a.handleSignOut.bind(Object(f.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleSignOut",value:function(){var e=Object(m.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.signout();case 2:this.props.updateUid({uid:void 0});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ue.a,{bg:"dark",variant:"dark"},r.a.createElement(ue.a.Brand,{href:"#home"},"Desmos Live!"),r.a.createElement(oe.a,{className:"mr-auto"},r.a.createElement(oe.a.Link,{href:"#home"},"Editor"),r.a.createElement(oe.a.Link,{href:"#about"},"About")),r.a.createElement(g.a,{variant:"primary",onClick:this.handleSignOut},"Sign Out")),r.a.createElement("div",{className:"grid-container"},r.a.createElement("div",{className:"changes"},r.a.createElement(le,null)),r.a.createElement("div",{className:"editor"},r.a.createElement(V,null)),r.a.createElement("div",{className:"tree"},r.a.createElement(ae,null))))}}]),t}(r.a.Component),pe=Object(x.b)(function(e){return{uid:e.uid}},function(e){return{updateUid:function(t){return e(P(t))},updateDisplayTreeCheckMarks:function(){return e(L())},updateMyFiles:function(t){return e(B(t))},updateOtherFiles:function(t){return e(_(t))}}})(he),me=(a(168),a(79)),fe=a(35),be=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSignIn=a.handleSignIn.bind(Object(f.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleSignIn",value:function(){var e=Object(m.a)(p.a.mark(function e(){var t,a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.signin();case 2:return t=e.sent,this.props.updateUid({uid:t.uid}),e.next=6,fe.getMyFileNames(t.uid);case 6:return a=e.sent,this.props.updateMyFiles({list:a}),e.next=10,fe.getOtherFileNames(t.uid);case 10:n=e.sent,this.props.updateOtherFiles({list:n});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{id:"sign-in-background"},r.a.createElement("div",{className:"sign-in-grid-container"},r.a.createElement("div",{className:"sign-in-box"},r.a.createElement("div",{id:"sign-in-container"},r.a.createElement("div",{id:"sign-in-main-text"},"Sign In"),r.a.createElement("div",{className:"g-sign-in-button",onClick:this.handleSignIn},r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("div",{className:"logo-wrapper"},r.a.createElement("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"google logo"})),r.a.createElement("span",{className:"text-container"},r.a.createElement("span",null,"Sign in with Google")))))),r.a.createElement("div",{className:"show-off-image-box"}),r.a.createElement("div",{className:"header-box"},"Desmos Live")))}}]),t}(r.a.Component),ve=Object(x.b)(null,function(e){return{updateUid:function(t){return e(P(t))},updateMyFiles:function(t){return e(B(t))},updateOtherFiles:function(t){return e(_(t))}}})(be),Ee=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.uid&&r.a.createElement(pe,null),!this.props.uid&&r.a.createElement(ve,null))}}]),t}(r.a.Component),ge=Object(x.b)(function(e){return{uid:e.uid}})(Ee),ke=a(39),ye={oldExprString:"",newExprString:"",uid:void 0,displayTreeCheckMarks:!1,myFiles:[],otherFiles:{}};var Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;return t.type===A?Object.assign({},e,{oldExprString:t.payload.exprString}):t.type===T?Object.assign({},e,{newExprString:t.payload.exprString}):t.type===N?Object.assign({},e,{uid:t.payload.uid}):t.type===U?Object.assign({},e,{displayTreeCheckMarks:!e.displayTreeCheckMarks}):t.type===I?Object.assign({},e,{myFiles:t.payload.list}):t.type===D?Object.assign({},e,{otherFiles:t.payload.list}):e},we=Object(ke.b)(Oe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(x.a,{store:we},r.a.createElement(ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},35:function(e,t,a){"use strict";a.r(t),a.d(t,"updateFile",function(){return i}),a.d(t,"importFile",function(){return l}),a.d(t,"getMyFileNames",function(){return s}),a.d(t,"getOtherFileNames",function(){return o}),a.d(t,"addFile",function(){return c}),a.d(t,"addUserToList",function(){return u}),a.d(t,"linkUserToMyProject",function(){return d});var n=a(33),r=a(15);a(143);function i(e,t,a){r.database().ref("users/"+e+"/files/"+t).update({data:a})}function l(e,t){return new Promise(function(a,n){r.database().ref("users/"+e+"/files/"+t+"/data/").once("value",function(e){a(e.val())})})}function s(e){return new Promise(function(t,a){r.database().ref("users/"+e+"/files/").once("value",function(e){var a=[];e.forEach(function(e){a.push(e.key)}),t(a)})})}function o(e){return new Promise(function(t,a){r.database().ref("users/"+e+"/linkedTo/").once("value",function(e){e.exists()?t(e.val()):t({})})})}function c(e,t){return new Promise(function(a,i){r.database().ref("users/"+e+"/files/"+t).once("value",function(i){i.exists()?a(-1):(r.database().ref("users/"+e+"/files/").update(Object(n.a)({},t,{"sample-data":0})),a(0))})})}function u(e,t){return new Promise(function(a,i){r.database().ref("usersToEmail/").update(Object(n.a)({},e,btoa(t)),function(){r.database().ref("emailsToUser/").update(Object(n.a)({},btoa(t),e),function(){console.log("done adding"),a(0)})})})}function d(e,t,a){return console.log("going to the mines lol xd"),new Promise(function(i,l){r.database().ref("users/"+e+"/files/"+t+"/linked/").update(Object(n.a)({},a,!0)),console.log("donezo"),i(!0)})}},53:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t),a.d(t,"signin",function(){return c}),a.d(t,"signout",function(){return u});var n=a(6),r=a.n(n),i=a(17),l=a(15),s=(a(155),a(35)),o=new l.auth.GoogleAuthProvider;function c(){return l.auth().signInWithPopup(o).then(function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user,e.next=3,s.addUserToList(a.uid,a.email);case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){var t=e.message;console.error(t)})}function u(){return l.auth().signOut().then(function(){return!0}).catch(function(e){return!1})}},82:function(e,t,a){"use strict";a.r(t);var n=a(15),r={apiKey:"AIzaSyDnB54sj_MLG4SXdTImb_ggkwXdLdpPUlo",authDomain:"desmos-live-23326.firebaseapp.com",databaseURL:"https://desmos-live-23326.firebaseio.com",projectId:"desmos-live-23326",storageBucket:"",messagingSenderId:"39438561393",appId:"1:39438561393:web:6c4c80b7eba664e8"};n.initializeApp(r);var i=n.apps.length?n.app():n.initializeApp(r);a(96);a.d(t,"getUIDFromEmail",function(){return s}),a.d(t,"getEmailFromUID",function(){return o}),a.d(t,"validateUID",function(){return c}),a.d(t,"validateEmail",function(){return u}),a.d(t,"uploadImage",function(){return d}),a.d(t,"linkUserToProject",function(){return h}),a.d(t,"importFileFromAnotherUser",function(){return p}),a.d(t,"updateFileFromAnotherUser",function(){return m});var l=i.functions(),s=l.httpsCallable("getUIDFromEmail"),o=l.httpsCallable("getEmailFromUID"),c=l.httpsCallable("validateUID"),u=l.httpsCallable("validateEmail"),d=l.httpsCallable("uploadImage"),h=l.httpsCallable("linkUserToProject"),p=l.httpsCallable("importFileFromAnotherUser"),m=l.httpsCallable("updateFileFromAnotherUser")},85:function(e,t,a){e.exports=a(169)},90:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.85699726.chunk.js.map